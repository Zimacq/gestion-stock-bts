{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar StockScreen = function StockScreen() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    products = _useState2[0],\n    setProducts = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    error = _useState4[0],\n    setError = _useState4[1];\n  useEffect(function () {\n    var fetchData = function () {\n      var _ref = _asyncToGenerator(function* () {\n        try {\n          var response = yield fetch('http://10.60.136.83:8080/api/produit');\n          if (!response.ok) {\n            throw new Error('La requête a échoué avec le statut ' + response.status);\n          }\n          var data = yield response.json();\n          setProducts(data);\n        } catch (error) {\n          console.error('Erreur : ', error);\n          setError(error);\n        }\n      });\n      return function fetchData() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    fetchData();\n  }, []);\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Text, {\n      style: styles.title,\n      children: \"Liste des Produits\"\n    }), error && _jsxs(Text, {\n      style: styles.error,\n      children: [\"Erreur: \", error.message]\n    }), _jsx(FlatList, {\n      data: products,\n      keyExtractor: function keyExtractor(item, index) {\n        return item.id_produit ? item.id_produit.toString() : index.toString();\n      },\n      renderItem: function renderItem(_ref2) {\n        var item = _ref2.item;\n        return _jsxs(View, {\n          style: styles.productRow,\n          children: [_jsxs(Text, {\n            children: [\"ID: \", item.id_produit]\n          }), _jsxs(Text, {\n            children: [\"Nom: \", item.nom_produit]\n          }), _jsxs(Text, {\n            children: [\"Cat\\xE9gorie: \", item.categorie.nom_categorie]\n          }), _jsxs(Text, {\n            children: [\"Stock: \", item.quantite_stock]\n          })]\n        });\n      }\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 16,\n    backgroundColor: '#fff'\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginBottom: 10\n  },\n  error: {\n    color: 'red',\n    marginBottom: 10\n  },\n  productRow: {\n    padding: 10,\n    borderWidth: 1,\n    borderColor: '#ccc',\n    borderRadius: 5,\n    marginBottom: 10\n  }\n});\nexport default StockScreen;","map":{"version":3,"names":["React","useState","useEffect","View","Text","FlatList","StyleSheet","jsx","_jsx","jsxs","_jsxs","StockScreen","_useState","_useState2","_slicedToArray","products","setProducts","_useState3","_useState4","error","setError","fetchData","_ref","_asyncToGenerator","response","fetch","ok","Error","status","data","json","console","apply","arguments","style","styles","container","children","title","message","keyExtractor","item","index","id_produit","toString","renderItem","_ref2","productRow","nom_produit","categorie","nom_categorie","quantite_stock","create","flex","padding","backgroundColor","fontSize","fontWeight","marginBottom","color","borderWidth","borderColor","borderRadius"],"sources":["C:/Users/Télo/Desktop/test api/appli-BTS-Gestion/Auth/Screens/StockScreen.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { View, Text, FlatList, StyleSheet } from 'react-native';\r\n\r\nconst StockScreen = () => {\r\n  const [products, setProducts] = useState([]);\r\n  const [error, setError] = useState(null); \r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const response = await fetch('http://10.60.136.83:8080/api/produit');\r\n        if (!response.ok) {\r\n          throw new Error('La requête a échoué avec le statut ' + response.status);\r\n        }\r\n        const data = await response.json();\r\n        setProducts(data);\r\n      } catch (error) {\r\n        console.error('Erreur : ', error);\r\n        setError(error); \r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <Text style={styles.title}>Liste des Produits</Text>\r\n      {error && <Text style={styles.error}>Erreur: {error.message}</Text>} \r\n      <FlatList\r\n        data={products}\r\n        keyExtractor={(item, index) => item.id_produit ? item.id_produit.toString() : index.toString()}\r\n        renderItem={({ item }) => (\r\n          <View style={styles.productRow}>\r\n            <Text>ID: {item.id_produit}</Text>\r\n            <Text>Nom: {item.nom_produit}</Text>\r\n            <Text>Catégorie: {item.categorie.nom_categorie}</Text>\r\n            <Text>Stock: {item.quantite_stock}</Text>\r\n          </View>\r\n        )}\r\n      />\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    padding: 16,\r\n    backgroundColor: '#fff',\r\n  },\r\n  title: {\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n    marginBottom: 10,\r\n  },\r\n  error: {\r\n    color: 'red',\r\n    marginBottom: 10,\r\n  },\r\n  productRow: {\r\n    padding: 10,\r\n    borderWidth: 1,\r\n    borderColor: '#ccc',\r\n    borderRadius: 5,\r\n    marginBottom: 10,\r\n  },\r\n});\r\n\r\nexport default StockScreen;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}