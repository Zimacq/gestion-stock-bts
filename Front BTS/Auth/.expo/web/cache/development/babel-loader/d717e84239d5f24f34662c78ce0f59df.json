{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction Products() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    products = _useState2[0],\n    setProducts = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    error = _useState4[0],\n    setError = _useState4[1];\n  useEffect(function () {\n    var fetchData = function () {\n      var _ref = _asyncToGenerator(function* () {\n        try {\n          var response = yield fetch('http://10.60.136.83:8080/api/produit');\n          if (!response.ok) {\n            throw new Error('La requête a échoué avec le statut ' + response.status);\n          }\n          var data = yield response.json();\n          console.log(data);\n          setProducts(data);\n        } catch (error) {\n          console.error('Erreur : ', error);\n          setError(error);\n        }\n      });\n      return function fetchData() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    fetchData();\n  }, []);\n  return _jsxs(View, {\n    children: [_jsx(Text, {\n      children: \"Produits\"\n    }), error && _jsxs(Text, {\n      children: [\"Error: \", error.message]\n    }), _jsx(FlatList, {\n      data: products,\n      keyExtractor: function keyExtractor(item, index) {\n        return item.id ? item.id.toString() : index.toString();\n      },\n      renderItem: function renderItem(_ref2) {\n        var item = _ref2.item;\n        return _jsxs(View, {\n          children: [_jsx(Text, {\n            children: item.nom_produit\n          }), _jsx(Text, {\n            children: item.nom_produit\n          }), _jsx(Text, {\n            children: item.nom_produit\n          }), _jsx(Text, {\n            children: item.nom_produit\n          }), _jsx(Text, {\n            children: item.nom_produit\n          })]\n        });\n      }\n    })]\n  });\n}\nexport default Products;","map":{"version":3,"names":["React","useState","useEffect","View","Text","FlatList","jsx","_jsx","jsxs","_jsxs","Products","_useState","_useState2","_slicedToArray","products","setProducts","_useState3","_useState4","error","setError","fetchData","_ref","_asyncToGenerator","response","fetch","ok","Error","status","data","json","console","log","apply","arguments","children","message","keyExtractor","item","index","id","toString","renderItem","_ref2","nom_produit"],"sources":["C:/Users/Télo/Desktop/test api/appli-BTS-Gestion/Auth/Screens/LoginScreen.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { View, Text, FlatList } from 'react-native';\r\n\r\nfunction Products() {\r\n  const [products, setProducts] = useState([]);\r\n  const [error, setError] = useState(null); \r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const response = await fetch('http://10.60.136.83:8080/api/produit');\r\n        if (!response.ok) {\r\n          throw new Error('La requête a échoué avec le statut ' + response.status);\r\n        }\r\n        const data = await response.json();\r\n        console.log(data);\r\n        setProducts(data);\r\n      } catch (error) {\r\n        console.error('Erreur : ', error);\r\n        setError(error); \r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  return (\r\n    <View>\r\n      <Text>Produits</Text>\r\n      {error && <Text>Error: {error.message}</Text>} \r\n      <FlatList\r\n  data={products}\r\n  keyExtractor={(item, index) => item.id ? item.id.toString() : index.toString()}\r\n  renderItem={({ item }) => (\r\n    <View>\r\n      <Text>{item.nom_produit}</Text>\r\n      <Text>{item.nom_produit}</Text>\r\n      <Text>{item.nom_produit}</Text>\r\n      <Text>{item.nom_produit}</Text>\r\n      <Text>{item.nom_produit}</Text>\r\n      \r\n    </View>\r\n  )}\r\n/>\r\n\r\n    </View>\r\n  );\r\n}\r\n\r\nexport default Products;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC,OAAAC,IAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,QAAA;AAAA,SAAAC,GAAA,IAAAC,IAAA,EAAAC,IAAA,IAAAC,KAAA;AAGnD,SAASC,QAAQA,CAAA,EAAG;EAClB,IAAAC,SAAA,GAAgCV,QAAQ,CAAC,EAAE,CAAC;IAAAW,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAArCG,QAAQ,GAAAF,UAAA;IAAEG,WAAW,GAAAH,UAAA;EAC5B,IAAAI,UAAA,GAA0Bf,QAAQ,CAAC,IAAI,CAAC;IAAAgB,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAAjCE,KAAK,GAAAD,UAAA;IAAEE,QAAQ,GAAAF,UAAA;EAEtBf,SAAS,CAAC,YAAM;IACd,IAAMkB,SAAS;MAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAG,aAAY;QAC5B,IAAI;UACF,IAAMC,QAAQ,SAASC,KAAK,CAAC,sCAAsC,CAAC;UACpE,IAAI,CAACD,QAAQ,CAACE,EAAE,EAAE;YAChB,MAAM,IAAIC,KAAK,CAAC,qCAAqC,GAAGH,QAAQ,CAACI,MAAM,CAAC;UAC1E;UACA,IAAMC,IAAI,SAASL,QAAQ,CAACM,IAAI,CAAC,CAAC;UAClCC,OAAO,CAACC,GAAG,CAACH,IAAI,CAAC;UACjBb,WAAW,CAACa,IAAI,CAAC;QACnB,CAAC,CAAC,OAAOV,KAAK,EAAE;UACdY,OAAO,CAACZ,KAAK,CAAC,WAAW,EAAEA,KAAK,CAAC;UACjCC,QAAQ,CAACD,KAAK,CAAC;QACjB;MACF,CAAC;MAAA,gBAbKE,SAASA,CAAA;QAAA,OAAAC,IAAA,CAAAW,KAAA,OAAAC,SAAA;MAAA;IAAA,GAad;IAEDb,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,EAAE,CAAC;EAEN,OACEX,KAAA,CAACN,IAAI;IAAA+B,QAAA,GACH3B,IAAA,CAACH,IAAI;MAAA8B,QAAA,EAAC;IAAQ,CAAM,CAAC,EACpBhB,KAAK,IAAIT,KAAA,CAACL,IAAI;MAAA8B,QAAA,GAAC,SAAO,EAAChB,KAAK,CAACiB,OAAO;IAAA,CAAO,CAAC,EAC7C5B,IAAA,CAACF,QAAQ;MACbuB,IAAI,EAAEd,QAAS;MACfsB,YAAY,EAAE,SAAAA,aAACC,IAAI,EAAEC,KAAK;QAAA,OAAKD,IAAI,CAACE,EAAE,GAAGF,IAAI,CAACE,EAAE,CAACC,QAAQ,CAAC,CAAC,GAAGF,KAAK,CAACE,QAAQ,CAAC,CAAC;MAAA,CAAC;MAC/EC,UAAU,EAAE,SAAAA,WAAAC,KAAA;QAAA,IAAGL,IAAI,GAAAK,KAAA,CAAJL,IAAI;QAAA,OACjB5B,KAAA,CAACN,IAAI;UAAA+B,QAAA,GACH3B,IAAA,CAACH,IAAI;YAAA8B,QAAA,EAAEG,IAAI,CAACM;UAAW,CAAO,CAAC,EAC/BpC,IAAA,CAACH,IAAI;YAAA8B,QAAA,EAAEG,IAAI,CAACM;UAAW,CAAO,CAAC,EAC/BpC,IAAA,CAACH,IAAI;YAAA8B,QAAA,EAAEG,IAAI,CAACM;UAAW,CAAO,CAAC,EAC/BpC,IAAA,CAACH,IAAI;YAAA8B,QAAA,EAAEG,IAAI,CAACM;UAAW,CAAO,CAAC,EAC/BpC,IAAA,CAACH,IAAI;YAAA8B,QAAA,EAAEG,IAAI,CAACM;UAAW,CAAO,CAAC;QAAA,CAE3B,CAAC;MAAA;IACP,CACH,CAAC;EAAA,CAEQ,CAAC;AAEX;AAEA,eAAejC,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module"}