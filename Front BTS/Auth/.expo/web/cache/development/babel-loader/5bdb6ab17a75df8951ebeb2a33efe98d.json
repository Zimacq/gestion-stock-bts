{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction Products() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    products = _useState2[0],\n    setProducts = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    error = _useState4[0],\n    setError = _useState4[1];\n  useEffect(function () {\n    var fetchData = function () {\n      var _ref = _asyncToGenerator(function* () {\n        try {\n          var response = yield fetch('http://10.60.136.83:8080/api/produit');\n          if (!response.ok) {\n            throw new Error('La requête a échoué avec le statut ' + response.status);\n          }\n          var data = yield response.json();\n          console.log(data);\n          setProducts(data);\n        } catch (error) {\n          console.error('Erreur : ', error);\n          setError(error);\n        }\n      });\n      return function fetchData() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    fetchData();\n  }, []);\n  return _jsxs(\"div\", {\n    children: [_jsx(\"h1\", {\n      children: \"Produits\"\n    }), error && _jsxs(\"p\", {\n      children: [\"Error: \", error.message]\n    }), _jsx(\"ul\", {\n      children: products.map(function (product) {\n        return _jsx(\"li\", {\n          children: product.nom\n        }, product.id);\n      })\n    })]\n  });\n}\nexport default Products;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Products","_useState","_useState2","_slicedToArray","products","setProducts","_useState3","_useState4","error","setError","fetchData","_ref","_asyncToGenerator","response","fetch","ok","Error","status","data","json","console","log","apply","arguments","children","message","map","product","nom","id"],"sources":["C:/Users/Télo/Desktop/test api/appli-BTS-Gestion/Auth/Screens/LoginScreen.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nfunction Products() {\r\n  const [products, setProducts] = useState([]);\r\n  const [error, setError] = useState(null); \r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const response = await fetch('http://10.60.136.83:8080/api/produit');\r\n        if (!response.ok) {\r\n          throw new Error('La requête a échoué avec le statut ' + response.status);\r\n        }\r\n        const data = await response.json();\r\n        console.log(data); // Afficher les données reçues de l'API dans la console\r\n        setProducts(data);\r\n      } catch (error) {\r\n        console.error('Erreur : ', error);\r\n        setError(error); \r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <h1>Produits</h1>\r\n      {error && <p>Error: {error.message}</p>} \r\n      <ul>\r\n        {products.map(product => (\r\n          <li key={product.id}>\r\n            {product.nom}\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Products;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC,SAAAC,GAAA,IAAAC,IAAA,EAAAC,IAAA,IAAAC,KAAA;AAEnD,SAASC,QAAQA,CAAA,EAAG;EAClB,IAAAC,SAAA,GAAgCP,QAAQ,CAAC,EAAE,CAAC;IAAAQ,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAArCG,QAAQ,GAAAF,UAAA;IAAEG,WAAW,GAAAH,UAAA;EAC5B,IAAAI,UAAA,GAA0BZ,QAAQ,CAAC,IAAI,CAAC;IAAAa,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAAjCE,KAAK,GAAAD,UAAA;IAAEE,QAAQ,GAAAF,UAAA;EAEtBZ,SAAS,CAAC,YAAM;IACd,IAAMe,SAAS;MAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAG,aAAY;QAC5B,IAAI;UACF,IAAMC,QAAQ,SAASC,KAAK,CAAC,sCAAsC,CAAC;UACpE,IAAI,CAACD,QAAQ,CAACE,EAAE,EAAE;YAChB,MAAM,IAAIC,KAAK,CAAC,qCAAqC,GAAGH,QAAQ,CAACI,MAAM,CAAC;UAC1E;UACA,IAAMC,IAAI,SAASL,QAAQ,CAACM,IAAI,CAAC,CAAC;UAClCC,OAAO,CAACC,GAAG,CAACH,IAAI,CAAC;UACjBb,WAAW,CAACa,IAAI,CAAC;QACnB,CAAC,CAAC,OAAOV,KAAK,EAAE;UACdY,OAAO,CAACZ,KAAK,CAAC,WAAW,EAAEA,KAAK,CAAC;UACjCC,QAAQ,CAACD,KAAK,CAAC;QACjB;MACF,CAAC;MAAA,gBAbKE,SAASA,CAAA;QAAA,OAAAC,IAAA,CAAAW,KAAA,OAAAC,SAAA;MAAA;IAAA,GAad;IAEDb,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,EAAE,CAAC;EAEN,OACEX,KAAA;IAAAyB,QAAA,GACE3B,IAAA;MAAA2B,QAAA,EAAI;IAAQ,CAAI,CAAC,EAChBhB,KAAK,IAAIT,KAAA;MAAAyB,QAAA,GAAG,SAAO,EAAChB,KAAK,CAACiB,OAAO;IAAA,CAAI,CAAC,EACvC5B,IAAA;MAAA2B,QAAA,EACGpB,QAAQ,CAACsB,GAAG,CAAC,UAAAC,OAAO;QAAA,OACnB9B,IAAA;UAAA2B,QAAA,EACGG,OAAO,CAACC;QAAG,GADLD,OAAO,CAACE,EAEb,CAAC;MAAA,CACN;IAAC,CACA,CAAC;EAAA,CACF,CAAC;AAEV;AAEA,eAAe7B,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module"}